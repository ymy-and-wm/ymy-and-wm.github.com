<!DOCTYPE html>
<!-- saved from url=(0052)http://www.makusi.cn/Home/Play/play_show/ws/YGdllmhj -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}</style>
    
    <title>💕情话是我抄的，但我爱你是真的💕</title>

    <script>
        //判断客户端设备，选择写入meta
        function init_viewport(){
            console.log(navigator.userAgent);
            if(navigator.userAgent.indexOf('Android') != -1){
                document.write('<meta name="viewport" content="width=500, target-densitydpi=device-dpi, user-scalable=0">');
            }else if(navigator.userAgent.indexOf('iPhone') != -1){
                var phoneScale= parseInt(window.screen.width)/500;
                document.write('<meta name="viewport" content="width=500, min-height=750, initial-scale='+phoneScale+', maximum-scale='+phoneScale+', user-scalable=0"/> ');  
            }else{
                document.write('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> ');
            }
        }
        init_viewport();
    </script><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">    

    <!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 -->
    <meta name="format-detection" content="telephone=no, email=no">
    <!-- 启用360浏览器的极速模式(webkit) -->
    <meta name="renderer" content="webkit">
    <!-- 避免IE使用兼容模式 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
    <meta name="HandheldFriendly" content="true">
    <!-- 微软的老式浏览器 -->
    <meta name="MobileOptimized" content="320">
    <!-- uc强制竖屏 -->
    <meta name="screen-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <!-- UC强制全屏 -->
    <meta name="full-screen" content="yes">
    <!-- QQ强制全屏 -->
    <meta name="x5-fullscreen" content="true">
    <!-- UC应用模式 -->
    <meta name="browsermode" content="application">
    <!-- QQ应用模式 -->
    <meta name="x5-page-mode" content="app">
    <!-- windows phone 点击无高光 -->
    <meta name="msapplication-tap-highlight" content="no">  

    <style>
        * {
            margin: 0px;
            padding: 0px;
            -webkit-box-sizing: border-box;
        }
        body {            
            background-color: white;
        }
        a {
            color: white;
            text-decoration: none; 
        }

        #div_container { /*最外层div，用于居中兼容PC和移动*/
            position: relative; 
            width: 500px;
            margin: 0px auto; 
            font-size: 1em;
        }

        #div_start_bg {
            position: absolute;
            left: 0px; 
            top: 0px;
            z-index: 44;
            width: 500px; 
            height: 100%;
            background-color: white;
        }

        #div_music_album {
            display: none;
            position: relative;
            width: 500px;
            height: 815px;
            overflow: hidden;
        }
        #div_music_album>div, #div_music_album>img {
            position: absolute;
        }

        #div_ma_text {
            display: none;
            position: fixed;
            bottom: 16px; 
            z-index: 99;
            width: 500px; 
            padding: 0 30px;
            color: #000; 
            font: 1.3em "Microsoft YaHei","微软雅黑","Arial"; 
            text-shadow: 1px 2px 4px #fff;
            text-align: justify;
            line-height: 1.2em;
            /*-webkit-animation:text_bling 1s linear infinite alternate;*/
        }
        @-webkit-keyframes text_bling {
            from  {
                -webkit-transform: scale(1);
            }
            to    {
                -webkit-transform: scale(1.04);
            }
        }

        #div_ma_end {
            display: none;
            position: absolute;
            left: 0px; 
            right: 0px;  /*4个方向定位使div充满整个画画*/
            top: 0px;
            bottom: 0px;  /*4个方向定位使div充满整个画画*/
            z-index: 44; 
            width: 500px; 
            height: 100%;
            padding: 250px 150px; 
            background: rgba(255,255,255,0.9); /*半透明效果*/
            text-align: center; 
            font-size: 1.6em;
        } 
    </style>

    <!-- 此模板的主要动画css -->
    <link rel="stylesheet" type="text/css" href="./情书是我抄的，但我爱你是真的_files/ma_swiper_simple.css">
    <link rel="stylesheet" type="text/css" href="./情书是我抄的，但我爱你是真的_files/swiper.min.css">
    <link rel="stylesheet" type="text/css" href="./情书是我抄的，但我爱你是真的_files/animate.min.css">

    <!-- 按钮部分的样式 -->
    <link type="text/css" rel="stylesheet" href="./情书是我抄的，但我爱你是真的_files/theme_public_btn.css">

        

    <!-- 按需加载，选择此片头时方才加载 -->
        <link type="text/css" rel="stylesheet" href="./情书是我抄的，但我爱你是真的_files/start_hearttree.css">    

     

     

      

     

     
</head>

<body style="">
    <div id="div_container">
        <div id="div_start_bg" style="height: 722px;"></div> <!-- 用于遮挡主题，作为片头的背景 -->

                


        <!-- 按需加载，选择此片头时方才加载 -->
            <div id="div_hearttree" style="display: block;">
                <div id="div_tree_error">很可惜你的手机浏览器不支持，错过了惊喜效果哦</div>
                <div id="div_tree_start"></div>
                <div id="div_tree_main">
                    <div id="div_tree_text">
                        <span id="span_tree_typed"></span>
                    </div> 
                    <canvas id="canvas_tree" width="500" height="815"></canvas>
                    <div id="div_tree_timer">
                        <span id="span_tree_desc"></span>
                        <div id="div_tree_dhis"></div>
                    </div>
                </div>
            </div><!-- 按需加载，选择此片头时方才加载 -->



        


          



        


                <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->
        <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->
        <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->



        <!-- 以下为动画主体播放部分 以下为动画主体播放部分 以下为动画主体播放部分 以下为动画主体播放部分 -->
        <div class="swiper-container" id="div_music_album" style="height: 722px;">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="ani div_sw_img" id="div_sw_0" swiper-animate-effect="zoomIn" swiper-animate-duration="2s" swiper-animate-delay="0s">
                        <img class="img_sw_ani" id="img_sw_0">
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="ani div_sw_img" id="div_sw_1" swiper-animate-effect="slideInLeft" swiper-animate-duration="2s" swiper-animate-delay="0s">
                        <img class="img_sw_ani" id="img_sw_1">
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="ani div_sw_img" id="div_sw_2" swiper-animate-effect="rotateInDownLeft" swiper-animate-duration="2s" swiper-animate-delay="0s">
                        <img class="img_sw_ani" id="img_sw_2">
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="ani div_sw_img" id="div_sw_3" swiper-animate-effect="fadeInDown" swiper-animate-duration="2s" swiper-animate-delay="0s">
                        <img class="img_sw_ani" id="img_sw_3">
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="ani div_sw_img" id="div_sw_4" swiper-animate-effect="fadeInUp" swiper-animate-duration="2s" swiper-animate-delay="0s">
                        <img class="img_sw_ani" id="img_sw_4">
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="ani div_sw_img" id="div_sw_5" swiper-animate-effect="rollIn" swiper-animate-duration="2s" swiper-animate-delay="0s">
                        <img class="img_sw_ani" id="img_sw_5">
                    </div>
                </div>
            </div>

            <div id="div_ma_title">💕情话是我抄的，但我爱你是真的💕</div>
            <div class="div_error">出错：图片丢失了</div>
        </div>
        <!-- 以上为动画主体播放部分 以上为动画主体播放部分 以上为动画主体播放部分 以上为动画主体播放部分 -->



        <div id="div_ma_text"> </div>  <!-- 文字部分 -->

        <div id="div_ma_end" onclick="ma_restart()"><!-- 终止循环部分，用于遮挡主题 -->  
            <img src="./情书是我抄的，但我爱你是真的_files/replay.png"><br>重新播放
        </div> 



        


        <div id="div_btn_container"> <!-- 按钮部分的最外层，处于文档流之中 -->
            <div id="div_btn_inner"> <!-- 按钮部分内层，用于定位 -->

                
				<!-- 王敏--音乐修改：theme-common.js -->
				<div class="div_music_tips"></div>
				<div class="div_btn" id="div_music" onclick="music_switch()" style="-webkit-animation: rotate_round 1s linear infinite"> <!-- 音乐按钮部分 -->
				    <img id="img_music" src="./情书是我抄的，但我爱你是真的_files/ico_music.png"> 
				    <audio id="audio_music" autoplay="autoplay" loop="loop" src="https://other-web-ri01-sycdn.kuwo.cn/dfb5b432b1de48dd368538905181f941/64689070/resource/n3/52/87/2500649018.mp3">
				        <source type="audio/mpeg">  
				        <!-- 您的浏览器不支持播放音乐 -->
				    </audio>
				</div>
				
				<div class="div_record_tips"></div>
				<div class="div_btn" id="div_record" onclick="record_switch()" style="animation: 1s linear 0s infinite normal none running rotate_vibrate; display: none;"> <!-- 录音按钮部分 -->
				    语音
				    <audio id="audio_record" loop="loop">
				        <source type="audio/mpeg">  
				        <!-- 您的浏览器不支持播放音乐 -->
				    </audio>
				</div>
                
                <!-- 只在提交状态显示 只在提交状态显示 只在提交状态显示 只在提交状态显示 -->
                  
                <!-- 只在提交状态显示 只在提交状态显示 只在提交状态显示 只在提交状态显示 -->

                <!-- 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 -->
                  
                <!-- 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 -->
            </div> 
        </div>
    </div>

    




    <!-- 动画主体播放及打字效果 -->
    <script src="./情书是我抄的，但我爱你是真的_files/jquery-2.0.3.min.js"></script> 
    <script src="./情书是我抄的，但我爱你是真的_files/typed.min.js"></script>
    <script src="./情书是我抄的，但我爱你是真的_files/assist.js"></script> 
    <script src="./情书是我抄的，但我爱你是真的_files/swiper.min.js"></script>
    <script src="./情书是我抄的，但我爱你是真的_files/swiper.animate1.0.3.min.js"></script>
    <script>
        var window_height=Math.max(window.innerHeight,document.documentElement.clientHeight,document.body.clientHeight,$(window).height());
        console.log('window_height ->'+window_height);

        var theme='swiper_simple';
        console.log('theme ->'+theme);
        var theme_content={"bool_save":false};
        console.log(theme_content);

        var json_music={"bool_save":false};
        console.log(json_music);
        var json_record={"bool_save":false};
        console.log(json_record);
        var signPackage={"appid":"wx47f716bdd7699533","timestamp":1684567105,"nonceStr":"X2G4QcQTHsoIk7ZH","url":"http:\/\/www.makusi.cn\/Home\/Play\/play_show\/ws\/YGdllmhj","signature":"8089de042e80f84da352bcb4f1d46cd5415c7993","rawString":"jsapi_ticket=sM4AOVdWfPE4DxkXGEs8VHINcjHJVwMsFjJyfreRy7AwgyhhnZZwTyi7AdPPZ_0eqXU_A1S0NIzcHRr4yrantw&noncestr=X2G4QcQTHsoIk7ZH&timestamp=1684567105&url=http:\/\/www.makusi.cn\/Home\/Play\/play_show\/ws\/YGdllmhj"};

        // var main_title='情书是我抄的，但我爱你是真的';
        // if(main_title=='' || main_title=='null'){
        //     document.title='情书是我抄的，但我爱你是真的';
        //     main_title='情书是我抄的，但我爱你是真的';
        // } 

        $('#div_music_album').height(window_height); //bg适应屏幕尺寸

        var m_album_loop=theme_content['m_album_loop']; //读取循环设置        
        if(typeof(m_album_loop)=='undefined'){ //处理全新作品
            m_album_loop='loop_n'; //默认是不循环
        }        



        //____________________________________________________________________________________
        //获取自定义文字 或设置模板文字 获取自定义文字 或设置模板文字 获取自定义文字 或设置模板文字 
        var m_album_text=theme_content['m_album_text'];
        if(typeof(m_album_text)=='undefined'){  //处理全新作品
            var m_album_text=random_text_array(12); //获取随机的模板文字 
        }
        console.log(m_album_text);
        console.log('m_album_text.length->'+m_album_text.length);

        var index_ma_text=0;
        var div_ma_text=document.getElementById('div_ma_text');        
        function show_text_loop(){ 
            var str_ma_text=m_album_text[index_ma_text];
            console.log('str_ma_text->'+str_ma_text);
            if(str_ma_text==''||str_ma_text==false||str_ma_text==null){
                str_ma_text='…';
            }
            var arr_str=str_ma_text.split('');
            for(var i=0; i<arr_str.length; i++){
                type_words(str_ma_text,i);
            }
            index_ma_text++;
            if(index_ma_text>m_album_text.length-1){
                index_ma_text=0;
            }
        } 

        function type_words(str,i){
            setTimeout(function(){
                div_ma_text.innerHTML=str.slice(0, i+1);
            },i*100);
        } 



        //____________________________________________________________________________________
        //获取自定义图片 或设置模板图片 获取自定义图片 或设置模板图片 获取自定义图片 或设置模板图片 
        // var m_album_img=theme_content['m_album_img'];
		
		// 王敏--图片修改--
		// 时间修改：assist.js
		var m_album_img = [
		    './pic/1.jpg',
		    './pic/2.jpg',
		    './pic/3.jpg',
			'./pic/4.jpg',
			'./pic/5.jpg',
			'./pic/6.jpg',
		    // 继续添加或修改其他图片路径
		];

        if(typeof(m_album_img)=='undefined'){ //处理全新作品
            var m_album_img=random_img_array(12);  //获取随机的模板图片 
        }
        var arr_img_url=[]; 
        for(var x=0; x<m_album_img.length; x++){ //取出有效图片
            var img_temp=m_album_img[x];
            if(img_temp!=''&&img_temp!=null){  //只取非空值
                arr_img_url.push(img_temp);
            }
        }
        if(arr_img_url.length==0){ //针对保存过内容，但没有添加图片或添加图片失败的情况  
            arr_img_url=random_img_array(12);  //获取随机的模板图片  
            m_album_text=random_text_array(12); //获取随机的模板文字 
            console.log(m_album_text);
        }
        console.log(arr_img_url);



        //____________________________________________________________________________________
        //动画主体部分   动画主体部分   动画主体部分   动画主体部分   动画主体部分 
        $('.swiper-container').height(window_height);       

        var time_show_title;
        function show_title(){
            time_show_title=new Date().getTime(); 
            // id('div_ma_title').innerHTML=main_title;
            id('div_ma_title').style.webkitAnimation='fade_in 1.5s 0.5s linear both'; 
            append_swiper_slide();

            setTimeout(function(){
                if(count_img_loaded==arr_img_url.length){ 
                    id('div_ma_title').style.webkitAnimation='fade_out 2s linear both'; 
                    setTimeout(function(){
                        $('.swiper-wrapper').fadeIn();
                        swiper_simple.init();
                    },1500); 
                }else{
                    $('.div_error').fadeIn();
                }
            },5000);
            init_attachment();
        } 



        function append_swiper_slide(){
            //默认6个swiper-slide，每个1张图片
            if(arr_img_url.length>6){
                console.log('播放超过6张图片，增加对应数量的swiper-slide');
                for(var i=6; i<arr_img_url.length; i++){
                    var clone_slide=$('.swiper-slide').eq(i%6).clone();
                    clone_slide.find('.div_sw_img').attr('id','div_sw_'+i);
                    clone_slide.find('.img_sw_ani').attr('id','img_sw_'+i);
                    clone_slide.appendTo('.swiper-wrapper');
                }
                console.log('already append slide');
            }
            if(arr_img_url.length<6){
                console.log('播放少于6张图片，移除多余的swiper-slide');
                for(var i=0; i<6-arr_img_url.length; i++){
                    var length_slide=$('.swiper-slide').length;
                    $('.swiper-slide').eq(length_slide-1).remove();
                }
            }
            //到此，每张图片刚好对应一个swiper-slide
            load_images();
        }



        function load_images(){
            console.log('提前加载图片，每隔250ms加载1张');
            for(var i=0; i<arr_img_url.length; i++){
                preload_images(i);
            }
        }

        var count_img_loaded=0;
        function preload_images(i){
            setTimeout(function(){
                console.log('img_sw_'+i+'.src ->'+arr_img_url[i]); 
                img_sw=id('img_sw_'+i);
                img_sw.src=arr_img_url[i]; //取得src，就会开始加载
                
                img_sw.onload=function(){ //加载成功才执行
                    count_img_loaded+=1;
                    var img_width=img_sw.width;
                    var img_height=img_sw.height;
                    var img_size_rate=img_width/img_height; 
                    // console.log(img_size_rate);
                    var img_sw_jq=$('#img_sw_'+i);
                    img_sw_jq.height(500/img_size_rate); //固定宽度500，按比例调整高度
                    if(500/img_size_rate>window_height){ //如果高度比屏幕还高
                        img_sw_jq.height(window_height);
                    }
                    var img_top=(window_height-img_sw_jq.height())/2; //固定left，按高度调整top
                    if(window_height-img_sw_jq.height()<1){ //如果高度比屏幕还高
                        var img_top=0;
                    }
                    id('div_sw_'+i).style.top=img_top+'px';
                    console.log('img_sw_'+i+'已成功提前加载图片');
                };
                img_sw.onerror=function(){
                    $('.div_error').fadeIn();
                    setTimeout(function(){$('.div_error').fadeOut();},3000);
                };
            },i*200);
        }



        var swiper_simple=new Swiper('.swiper-container', {
            init: false, //延迟初始化
            direction: 'vertical', // 垂直切换选项
            loop: false, // 循环模式选项

            autoplay: true,//可选选项，自动滑动
            autoplay: {
                disableOnInteraction: false, //用户操作swiper之后自动切换不会停止
                delay: 8000,//1秒切换一次
                stopOnLastSlide: true, //切换到最后一个slide时停止自动切换
            },
            
            allowTouchMove: false, //slide无法滑动
            // initialSlide: 2, //初始化显示
            grabCursor: true, //指针会变成手掌形状
            speed: 1500,

            // width: window.innerWidth,
            height: window.innerHeight,
            
            on: {
                init: function(){
                    console.log('init swiper_simple'); //Swiper初始化
                    this.emit('transitionEnd');//在初始化时触发一次transitionEnd事件，需要先设置transitionEnd
                    // this.emit('slideChangeTransitionEnd');//在初始化时触发一次transitionEnd事件，需要先设置transitionEnd
                    swiperAnimateCache(this);  //隐藏动画元素
                    swiperAnimate(this); //初始化完成开始动画
                },
                setTranslate: function(){
                    // console.log('transitionStart ->'+this.activeIndex);
                    $('#div_ma_text').fadeOut();
                },
                transitionEnd: function(){
                    console.log('transitionEnd, activeIndex ->'+this.activeIndex);
                    $('#div_ma_text').fadeIn();
                    show_text_loop();
                    set_text_bottom(this.activeIndex);
                    // swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
                    if(this.activeIndex==arr_img_url.length-1 && m_album_loop=='loop_n'){
                        console.log('defaulted loop ahead ->'+m_album_loop);
                        setTimeout(function(){
                            $('.swiper-wrapper').fadeOut();
                            $('#div_ma_text').fadeOut();
                            $('#div_ma_end').fadeIn();
                            swiper_simple.destroy();
                        },8000); 
                    }
                },
                slideChangeTransitionEnd: function(){ 
                    swiperAnimateCache(this); //
                    swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
                    //this.slides.eq(this.activeIndex).find('.ani').removeClass('ani'); 动画只展现一次，去除ani类名
                },
                reachEnd: function(){
                    console.log('reachEnd Swiper');
                }
            }        
        });

        

        function set_text_bottom(activeIndex){ 
            var div_top=$('#div_sw_'+activeIndex).position().top;
            var div_height=$('#div_sw_'+activeIndex).height();
            var text_bottom=window_height-(div_top+div_height+90);
            if(div_top+div_height+90>window_height){
                text_bottom=20;
            }
            // console.log(text_bottom);
            id('div_ma_text').style.bottom=text_bottom+'px';
        }

        function ma_restart(){ //点击重播之后刷新页面
            location.reload();
        }

        function id(name){
            return document.getElementById(name);
        }



        function random_text_array(length){  //获取随机的模板文字
            console.log('random_text_array');
            var arr_res=[];
            var arr_random=[];
            while(arr_random.length<length){
                // var random_num=Math.floor(Math.random()*(arr_as_pics.length-0))+0;
                var random_num=Math.floor(Math.random()*(arr_as_words_love.length)); //随机取值 
                if(arr_random.indexOf(random_num)==-1){
                    arr_random.push(random_num);
                }
            }
            // console.log(arr_random);
            for(var i=0; i<length; i++){  
                arr_res.push(arr_as_words_love[arr_random[i]]); //获取随机的模板文字
            }
            return arr_res;
        } 



        function random_img_array(length){  //获取随机的模板图片
            console.log('random_img_array'); 
            var arr_res=[];
            var arr_random=[];
            while(arr_random.length<length){
                // var random_num=Math.floor(Math.random()*(arr_as_pics.length-0))+0;
                var random_num=Math.floor(Math.random()*(arr_as_pics.length)); //随机取值 
                if(arr_random.indexOf(random_num)==-1){
                    arr_random.push(random_num);
                }
            }
            // console.log(arr_random);
            for(var i=0; i<length; i++){ 
                arr_res.push(arr_as_pics[arr_random[i]]); //获取随机的模板图片
            } 
            return arr_res;
        }



        function bool_empty(p_json,c_key){
            if(typeof(p_json[c_key])=='undefined' || p_json[c_key]==='' || p_json[c_key]==='null' || p_json[c_key]===null || p_json[c_key]===false){
                return true;
            }
            return false;
        }

        var wx_share_data={"title":"\u3010YGdllmhj\u3011 \u8fd9\u662f\u6211\u4e3a\u4f60\u5236\u4f5c\u7684H5\u4f5c\u54c1","desc":"\u3010YGdllmhj\u3011 \u6211\u6709\u8bdd\u60f3\u548c\u4f60\u8bf4\uff0c\u5e0c\u671b\u4f60\u80fd\u70b9\u8fdb\u6765\u770b\u770b\uff0c\u6211\u7528\u5fc3\u505a\u4e86\u597d\u4e45\u4e86\u5462","link":"http:\/\/www.makusi.cn\/Home\/Index\/index\/ws\/YGdllmhj","imgUrl":"http:\/\/www.makusi.cn\/Public\/img\/wx_share.jpg"};
        console.log(wx_share_data); 
    </script>






        

    <!-- 按需加载，选择此片头时方才加载 -->
        <script src="./情书是我抄的，但我爱你是真的_files/jscex.min.js"></script>
        <script src="./情书是我抄的，但我爱你是真的_files/jscex-parser.js"></script>
        <script src="./情书是我抄的，但我爱你是真的_files/jscex-jit.js"></script>
        <script src="./情书是我抄的，但我爱你是真的_files/jscex-builderbase.min.js"></script>
        <script src="./情书是我抄的，但我爱你是真的_files/jscex-async.min.js"></script>
        <script src="./情书是我抄的，但我爱你是真的_files/jscex-async-powerpack.min.js"></script>    
        <script src="./情书是我抄的，但我爱你是真的_files/love.js" charset="utf-8"></script> <!-- 按需加载，选择此片头时方才加载 -->



    <script> 
        var start_content={"bool_save":false}; //可能为null
        console.log(start_content); 

        var start;
        $(function(){
            //此事件为触发互动创意
            var start='hearttree'; //可能为null
            init_start(start);
        });
        
        function init_start(start){ 
            console.log('init_start ->'+start);
            switch(start){
                case 'loveformat':
                    $('.div_loveformat').show();
                    init_loveformat();
                    break;
                case 'hearttree':
                    $('#div_hearttree').show();
                    init_hearttree();
                    break;
                case 'courage':
                    $('#div_courage').show();
                    init_courage();
                    break;
                case 'birthdaycake':
                    $('#div_dbcake').show();
                    init_birthdaycake();
                    break;
                case 'intersect':
                    $('#div_intersect').show();
                    init_intersect();
                    break;
                case 'onlyyou':
                    $('#div_onlyyou').show();
                    init_onlyyou();
                    break;
                default:
                    init_theme(); 
            }
        } 

        //开始动画主体部分
        function init_theme(){
            console.log('init_theme');
            $('#div_start_bg').fadeOut();
            $('#div_music_album').fadeIn();
            // $('#div_ma_text').show();
            show_title();
        }
    </script>



    
    <!-- 按需加载，选择此片头时方才加载 -->
        <script src="./情书是我抄的，但我爱你是真的_files/start_hearttree.js"></script>    
    
    
     

    


    <script> 
        var attachment='null'; //可能为null
        var attached_content={"bool_save":false}; //可能为null
        console.log(attached_content); 
       
        function init_attachment(){  //开始attachment
            console.log('init_attachment ->'+attachment);
            switch(attachment){
                case 'timer':
                    init_at_timer();
                    break;
                default:
                    return; 
            }
        } 
    </script>

     


    <script src="./情书是我抄的，但我爱你是真的_files/jweixin-1.6.0.js"></script>
    <script src="./情书是我抄的，但我爱你是真的_files/theme_common.js"></script> <!-- 音乐控制和微信设置等公共部分js外部引入 -->

</body></html>